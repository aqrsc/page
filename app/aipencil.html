<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ì¢…í•© AI ë¬¸ì„œ ì‘ì„±ê¸°</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&display=swap" rel="stylesheet" />
    <style>
        :root {
            --bg: #0b1020;
            --panel: rgba(23, 27, 45, 0.7);
            --panel-strong: rgba(30, 34, 58, 0.85);
            --border: rgba(255, 255, 255, 0.08);
            --text: #e5e7eb;
            --muted: #9ca3af;
            --accent1: #6366f1;
            --accent2: #8b5cf6;
            --success: #10b981;
            --error: #f87171;
        }
        html { color-scheme: dark; }
        body {
            font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, 'Apple Color Emoji', 'Segoe UI Emoji';
            background: radial-gradient(1200px 600px at 10% -10%, rgba(79,70,229,.12), transparent 60%),
                        radial-gradient(1000px 500px at 100% 0%, rgba(139,92,246,.1), transparent 55%),
                        var(--bg);
            background-attachment: fixed;
            color: var(--text);
        }
        body::before {
            content: "";
            position: fixed;
            inset: 0;
            background-image: radial-gradient(circle at 1px 1px, rgba(148,163,184,.25) 1px, transparent 0);
            background-size: 28px 28px;
            pointer-events: none;
            mask-image: radial-gradient(circle at 50% 30%, black 40%, transparent 65%);
        }
        .glass-card {
            background: var(--panel);
            backdrop-filter: blur(14px) saturate(120%);
            -webkit-backdrop-filter: blur(14px) saturate(120%);
            border: 1px solid var(--border);
            box-shadow: 0 20px 60px rgba(0,0,0,.35);
        }
        .form-label {
            display: block;
            font-size: 1rem;
            font-weight: 700;
            color: #e5e7eb;
            margin-bottom: .75rem;
        }
        .form-input, .form-textarea {
            width: 100%;
            border: 1px solid #334155;
            border-radius: .75rem;
            padding: 1rem 1rem;
            background-color: rgba(9, 12, 26, .85);
            color: var(--text);
            transition: box-shadow .2s, border-color .2s, transform .08s ease-in-out;
        }
        .form-input:focus, .form-textarea:focus {
            outline: none;
            border-color: var(--accent1);
            box-shadow: 0 0 0 4px rgba(99,102,241,.25);
        }
        .form-textarea { min-height: 220px; resize: vertical; }
        .form-textarea::placeholder, .form-input::placeholder { color: #6b7280; }

        .btn {
            padding: .875rem 1.25rem;
            border-radius: .75rem;
            font-weight: 700;
            color: white;
            transition: all .2s;
            will-change: transform;
        }
        .btn:disabled { opacity: .55; cursor: not-allowed; }
        .btn:active { transform: translateY(1px) scale(.995); }
        .btn-gradient {
            background-image: linear-gradient(90deg, var(--accent1), var(--accent2));
            box-shadow: 0 10px 30px rgba(99,102,241,.45);
        }
        .btn-gradient:hover { box-shadow: 0 16px 40px rgba(139,92,246,.55); }

        .loader {
            border: 4px solid rgba(255,255,255,.18);
            border-top: 4px solid var(--accent1);
            border-radius: 50%; width: 40px; height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin { to { transform: rotate(360deg); } }

        .headline-gradient {
            background: linear-gradient(90deg, #c7d2fe, #d8b4fe);
            -webkit-background-clip: text; background-clip: text; color: transparent;
            text-shadow: 0 2px 24px rgba(99,102,241,.2);
        }
        .section-title {
            display:flex; align-items:center; gap:.75rem; font-weight:800; letter-spacing:-.01em;
        }
        .section-title::after {
            content:""; flex:1; height:1px; background: linear-gradient(90deg, rgba(255,255,255,.15), rgba(255,255,255,0));
        }
        #error-message { background: rgba(190,18,60,.1); border: 1px solid rgba(190,18,60,.25); }
        
        /* Navigation & Tone Selector */
        .nav-btn {
            background-color: transparent;
            border: 1px solid var(--border);
            color: var(--muted);
        }
        .nav-btn.active {
            background-color: var(--accent1);
            color: white;
            border-color: var(--accent1);
            box-shadow: 0 5px 20px rgba(99,102,241,.3);
        }
        /* Feature Panel Specifics */
        .feature-panel { display: none; }
        .feature-panel.active { display: block; }
        .output-box {
            background-color: rgba(9, 12, 26, .85);
            border: 1px solid #334155;
            border-radius: .75rem;
            padding: 1rem;
            min-height: 220px;
            white-space: pre-wrap;
            word-break: break-word;
        }
        .tweet-card {
            background: linear-gradient(180deg, rgba(30,41,59,.75), rgba(17,24,39,.65));
            border: 1px solid var(--border);
            border-radius: .875rem; padding: 1rem; margin-bottom: 1rem;
            white-space: pre-wrap; transition: border-color .2s, transform .12s ease;
        }
        .tweet-card:hover { border-color: rgba(99,102,241,.5); transform: translateY(-1px); }
    </style>
</head>
<body class="text-white">
    <div class="relative">
        <div class="absolute inset-x-0 -top-24 h-40 blur-3xl opacity-50" style="background: radial-gradient(600px 180px at 50% 100%, rgba(99,102,241,.35), transparent 60%), radial-gradient(600px 180px at 20% 100%, rgba(139,92,246,.3), transparent 60%)"></div>
        <header class="relative text-center py-14">
            <h1 class="text-5xl md:text-6xl font-black tracking-tight mb-4 headline-gradient">ì¢…í•© AI ë¬¸ì„œ ì‘ì„±ê¸°</h1>
            <p class="text-base md:text-lg text-gray-300 max-w-3xl mx-auto">AI ê¸°ë°˜ ë¬¸ì„œ ìƒì„±, êµì •, ë³€í™˜ì„ í•œ ê³³ì—ì„œ ëª¨ë‘ í•´ê²°í•˜ì„¸ìš”.</p>
        </header>
    </div>

    <div class="container mx-auto max-w-7xl px-4 pb-14">
        <!-- Main Navigation -->
        <nav class="flex justify-center gap-2 md:gap-4 mb-8">
            <button class="nav-btn btn active" data-target="feature-coin-page">ğŸª™ ì½”ì¸ í˜ì´ì§€ ìƒì„±ê¸°</button>
            <button class="nav-btn btn" data-target="feature-spell-checker">âœï¸ ë§ì¶¤ë²• ê²€ì‚¬ê¸°</button>
            <button class="nav-btn btn" data-target="feature-telegram-converter">âœˆï¸ í…”ë ˆê·¸ë¨ ê²Œì‹œê¸€ ë³€í™˜ê¸°</button>
        </nav>

        <!-- Feature Panels Container -->
        <main id="features-container">
            <!-- 1. Coin Page Generator -->
            <div id="feature-coin-page" class="feature-panel active">
                <div class="glass-card rounded-2xl p-6 md:p-10 shadow-2xl">
                    <div class="grid grid-cols-1 lg:grid-cols-12 gap-8">
                        <div class="lg:col-span-7 space-y-10">
                            <section>
                                <h2 class="section-title text-xl mb-5">1. ë¦¬ì„œì¹˜ ìë£Œ ë¶™ì—¬ë„£ê¸°</h2>
                                <textarea id="research-data" class="form-textarea" placeholder="í”„ë¡œì íŠ¸ì— ëŒ€í•œ ëª¨ë“  ë¦¬ì„œì¹˜ ìë£Œ(ê°œìš”, ê¸°ëŠ¥, íŒ€, ë§í¬, ì°¨íŠ¸ ì½”ë“œ ë“±)ë¥¼ ì—¬ê¸°ì— ë¶™ì—¬ë„£ìœ¼ì„¸ìš”."></textarea>
                                <div class="flex justify-end mt-3 gap-3">
                                    <button id="extract-info-btn" class="btn bg-indigo-600 hover:bg-indigo-700 text-sm py-2 px-4">âœ¨ ì •ë³´ ìë™ ì±„ìš°ê¸°</button>
                                </div>
                                <div id="extract-loading-indicator" class="mt-2 flex items-center justify-end hidden">
                                    <div class="loader" style="width:20px;height:20px;border-width:2px;margin-right:8px"></div>
                                    <span class="text-sm text-gray-400">AIê°€ ì •ë³´ë¥¼ ì¶”ì¶œí•˜ê³  ìˆìŠµë‹ˆë‹¤...</span>
                                </div>
                            </section>
                            <section>
                                <h2 class="section-title text-xl mb-5">2. ê¸°ë³¸ ì •ë³´ ì…ë ¥</h2>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div>
                                        <label for="coin-name" class="form-label">ì½”ì¸ ì´ë¦„</label>
                                        <input type="text" id="coin-name" class="form-input" placeholder="ì˜ˆ: Hey Anon" />
                                    </div>
                                    <div>
                                        <label for="coin-symbol" class="form-label">ì½”ì¸ ì‹¬ë³¼</label>
                                        <input type="text" id="coin-symbol" class="form-input" placeholder="ì˜ˆ: ANON" />
                                    </div>
                                </div>
                            </section>
                            <section>
                                <h2 class="section-title text-xl mb-5">3. ê³µì‹ ë§í¬</h2>
                                <textarea id="official-links" class="form-textarea" style="min-height: 140px" placeholder="https://heyanon.ai/ (ê³µì‹ ì›¹ì‚¬ì´íŠ¸)&#10;https://x.com/HeyAnonai (íŠ¸ìœ„í„°)"></textarea>
                            </section>
                            <section>
                                <h2 class="section-title text-xl mb-5">4. ì°¨íŠ¸ ì„ë² ë“œ ì£¼ì†Œ</h2>
                                <input type="url" id="chart-embed" class="form-input" placeholder="ì°¨íŠ¸ì˜ URL ë˜ëŠ” <iframe> ì½”ë“œë¥¼ ë¶™ì—¬ë„£ìœ¼ì„¸ìš”." />
                            </section>
                            <div class="mt-8">
                                <button id="generate-btn" class="btn btn-gradient text-lg px-7 py-4 w-full md:w-auto">ğŸš€ AIë¡œ í˜ì´ì§€ ìƒì„±í•˜ê¸°</button>
                            </div>
                        </div>
                        <aside class="lg:col-span-5">
                            <div class="glass-card rounded-xl p-5">
                                <h3 class="font-extrabold text-lg mb-3">ë¯¸ë¦¬ë³´ê¸° íŒ¨ë„</h3>
                                <p class="text-sm text-gray-400 mb-4">í˜ì´ì§€ë¥¼ ìƒì„±í•˜ë©´ ì˜¤ë¥¸ìª½ íŒ¨ë„ì—ì„œ ì‹¤ì‹œê°„ ë¯¸ë¦¬ë³´ê¸°ê°€ í‘œì‹œë©ë‹ˆë‹¤. ì•„ë˜ì˜ ê²°ê³¼ ì˜ì—­ì—ì„œ ì½”ë“œ ë³µì‚¬ë„ ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>
                                <div class="border border-white/10 rounded-lg overflow-hidden">
                                    <div class="h-[260px] bg-gradient-to-br from-slate-900 to-slate-800 flex items-center justify-center text-gray-400">ëŒ€ê¸° ì¤‘â€¦</div>
                                </div>
                            </div>
                        </aside>
                    </div>
                    <div id="loading-indicator" class="mt-8 flex-col items-center justify-center hidden">
                        <div class="loader mx-auto"></div>
                        <p class="mt-4 text-gray-400">AIê°€ ë‚´ìš©ì„ ë¶„ì„í•˜ê³  í˜ì´ì§€ë¥¼ ìƒì„± ì¤‘ì…ë‹ˆë‹¤. ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”...</p>
                    </div>
                    <div id="output-container" class="mt-12 hidden">
                         <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-3 mb-4">
                            <h2 class="text-2xl font-extrabold tracking-tight">ìƒì„±ëœ ê²°ê³¼</h2>
                            <div class="flex gap-2">
                                <button id="preview-btn" class="btn bg-slate-700 hover:bg-slate-600">ë¯¸ë¦¬ë³´ê¸°</button>
                                <button id="copy-btn" class="btn bg-slate-700 hover:bg-slate-600">ì½”ë“œ ë³µì‚¬</button>
                            </div>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 rounded-lg border border-white/10 overflow-hidden">
                            <textarea id="html-output" readonly class="w-full border-r border-slate-700 p-4 font-mono text-sm bg-[#0b1220] text-slate-400 h-[600px]"></textarea>
                            <div id="preview-panel" class="w-full p-4 h-[600px] bg-transparent">
                                <iframe id="preview-iframe" class="w-full h-full border-0 rounded-lg bg-white shadow-lg"></iframe>
                            </div>
                        </div>
                        <div id="copy-message" class="mt-2 text-sm text-right hidden text-green-400">ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!</div>
                        <div id="tweet-generator-container" class="mt-12 pt-8 border-t border-white/10 hidden">
                            <h3 class="text-2xl font-extrabold text-center mb-6">ë‹¤ìŒ ë‹¨ê³„: í”„ë¡œì íŠ¸ í™ë³´í•˜ê¸°</h3>
                            <div class="text-center">
                                <button id="generate-tweets-btn" class="btn bg-emerald-600 hover:bg-emerald-700 text-lg">ğŸ•Šï¸ AIë¡œ í™ë³´ íŠ¸ìœ— ìƒì„±í•˜ê¸°</button>
                            </div>
                            <div id="tweet-loading-indicator" class="mt-6 flex-col items-center justify-center hidden">
                                <div class="loader mx-auto"></div>
                                <p class="mt-4 text-gray-400">AIê°€ ë§¤ë ¥ì ì¸ íŠ¸ìœ—ì„ ë§Œë“¤ê³  ìˆìŠµë‹ˆë‹¤...</p>
                            </div>
                            <div id="tweet-results-container" class="mt-6 hidden">
                                <h4 class="text-xl font-bold mb-4">AIê°€ ìƒì„±í•œ í™ë³´ íŠ¸ìœ— ì•„ì´ë””ì–´:</h4>
                                <div id="tweet-list"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 2. Spell Checker -->
            <div id="feature-spell-checker" class="feature-panel">
                <div class="glass-card rounded-2xl p-6 md:p-10 shadow-2xl">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div>
                            <h2 class="section-title text-xl mb-5">ì›ë³¸ í…ìŠ¤íŠ¸</h2>
                            <textarea id="spell-check-input" class="form-textarea" placeholder="ì—¬ê¸°ì— ë§ì¶¤ë²•ì„ ê²€ì‚¬í•  í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”."></textarea>
                        </div>
                        <div>
                            <div class="flex justify-between items-center mb-5">
                                <h2 class="section-title text-xl">êµì •ëœ í…ìŠ¤íŠ¸</h2>
                                <button id="spell-check-copy-btn" class="btn bg-slate-700 hover:bg-slate-600 text-sm py-2 px-3">ğŸ“„ í…ìŠ¤íŠ¸ ë³µì‚¬</button>
                            </div>
                             <div id="spell-check-copy-message" class="text-sm text-right hidden text-green-400 mb-2">ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!</div>
                            <div id="spell-check-output" class="output-box">ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.</div>
                        </div>
                    </div>
                    <div class="mt-8">
                        <button id="spell-check-btn" class="btn btn-gradient text-lg">âœï¸ AIë¡œ ë§ì¶¤ë²• ê²€ì‚¬í•˜ê¸°</button>
                    </div>
                    <div id="spell-check-loading" class="mt-8 flex-col items-center justify-center hidden">
                        <div class="loader mx-auto"></div>
                        <p class="mt-4 text-gray-400">AIê°€ í…ìŠ¤íŠ¸ë¥¼ êµì •í•˜ê³  ìˆìŠµë‹ˆë‹¤...</p>
                    </div>
                </div>
            </div>

            <!-- 3. Telegram Post Converter -->
            <div id="feature-telegram-converter" class="feature-panel">
                <div class="glass-card rounded-2xl p-6 md:p-10 shadow-2xl">
                     <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div>
                            <h2 class="section-title text-xl mb-5">ì›ë³¸ í…ìŠ¤íŠ¸</h2>
                            <textarea id="telegram-input" class="form-textarea" placeholder="í…”ë ˆê·¸ë¨ ê²Œì‹œê¸€ë¡œ ë³€í™˜í•  ì›ë³¸ ë‚´ìš©ì„ ì—¬ê¸°ì— ì…ë ¥í•˜ì„¸ìš”."></textarea>
                        </div>
                        <div>
                            <div class="flex justify-between items-center mb-5">
                                <h2 class="section-title text-xl">í…”ë ˆê·¸ë¨ ê²Œì‹œê¸€ (ë¯¸ë¦¬ë³´ê¸°)</h2>
                                <button id="telegram-copy-btn" class="btn bg-slate-700 hover:bg-slate-600 text-sm py-2 px-3">ğŸ“„ í…ìŠ¤íŠ¸ ë³µì‚¬</button>
                            </div>
                            <div id="telegram-copy-message" class="text-sm text-right hidden text-green-400 mb-2">ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!</div>
                            <div id="telegram-output" class="output-box">ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.</div>
                        </div>
                    </div>
                    <div class="mt-8 mb-4">
                        <h3 class="form-label text-base">ê¸€íˆ¬ ì„ íƒ (Tone)</h3>
                        <div id="tone-selector" class="flex flex-wrap gap-2">
                            <button class="nav-btn btn flex-1" data-tone="formal">ğŸ§‘â€ğŸ’¼ ì „ë¬¸ê°€</button>
                            <button class="nav-btn btn flex-1 active" data-tone="friendly">ğŸ˜Š ì¹œê·¼í•˜ê²Œ</button>
                            <button class="nav-btn btn flex-1" data-tone="concise">âš¡ï¸ ê°„ê²°í•˜ê²Œ</button>
                        </div>
                    </div>
                    <div class="mt-8">
                        <button id="telegram-convert-btn" class="btn btn-gradient text-lg">âœˆï¸ AIë¡œ í…”ë ˆê·¸ë¨ ê²Œì‹œê¸€ ë³€í™˜</button>
                    </div>
                    <div id="telegram-loading" class="mt-8 flex-col items-center justify-center hidden">
                        <div class="loader mx-auto"></div>
                        <p class="mt-4 text-gray-400">AIê°€ í…”ë ˆê·¸ë¨ ê²Œì‹œê¸€ì„ ìƒì„±í•˜ê³  ìˆìŠµë‹ˆë‹¤...</p>
                    </div>
                </div>
            </div>
             <div id="error-message" class="mt-6 text-center text-red-300 p-4 rounded-lg hidden"></div>
        </main>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        // --- UTILS & SHARED ELEMENTS ---
        const errorMessage = document.getElementById('error-message');

        async function callGeminiAPI(prompt, schema, retries = 3, delay = 1000) {
            const apiKey = ""; // API Key is handled by the environment
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;
            
            const payload = { 
                contents: [{ role: "user", parts: [{ text: prompt }] }], 
            };

            if (schema) {
                payload.generationConfig = { 
                    responseMimeType: "application/json", 
                    responseSchema: schema 
                };
            }

            for (let i = 0; i < retries; i++) {
                try {
                    const response = await fetch(apiUrl, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload) });
                    if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
                    const result = await response.json();
                    if (result.candidates?.[0]?.content?.parts?.[0]?.text) {
                        // If a schema was expected, parse the JSON string. Otherwise, return the text directly.
                        return schema ? JSON.parse(result.candidates[0].content.parts[0].text) : result.candidates[0].content.parts[0].text;
                    } else { throw new Error("Invalid response structure from API"); }
                } catch (error) {
                    console.error(`Attempt ${i + 1} failed:`, error);
                    if (i < retries - 1) { await new Promise(res => setTimeout(res, delay)); delay *= 2; }
                    else { throw error; }
                }
            }
        }

        // --- NAVIGATION LOGIC ---
        const navButtons = document.querySelectorAll('nav > .nav-btn');
        const featurePanels = document.querySelectorAll('.feature-panel');

        navButtons.forEach(button => {
            button.addEventListener('click', (e) => {
                const targetId = button.dataset.target;
                
                navButtons.forEach(btn => btn.classList.remove('active'));
                button.classList.add('active');
                
                featurePanels.forEach(panel => {
                    panel.classList.remove('active');
                    if (panel.id === targetId) {
                        panel.classList.add('active');
                    }
                });
            });
        });

        // --- FEATURE 1: COIN PAGE GENERATOR ---
        const researchDataInput = document.getElementById('research-data');
        const extractInfoBtn = document.getElementById('extract-info-btn');
        const extractLoadingIndicator = document.getElementById('extract-loading-indicator');
        const coinNameInput = document.getElementById('coin-name');
        const coinSymbolInput = document.getElementById('coin-symbol');
        const officialLinksInput = document.getElementById('official-links');
        const chartEmbedInput = document.getElementById('chart-embed');
        const generateBtn = document.getElementById('generate-btn');
        const copyBtn = document.getElementById('copy-btn');
        const previewBtn = document.getElementById('preview-btn');
        const loadingIndicator = document.getElementById('loading-indicator');
        const outputContainer = document.getElementById('output-container');
        const htmlOutput = document.getElementById('html-output');
        const previewIframe = document.getElementById('preview-iframe');
        const copyMessage = document.getElementById('copy-message');
        const tweetGeneratorContainer = document.getElementById('tweet-generator-container');
        const generateTweetsBtn = document.getElementById('generate-tweets-btn');
        const tweetLoadingIndicator = document.getElementById('tweet-loading-indicator');
        const tweetResultsContainer = document.getElementById('tweet-results-container');
        const tweetList = document.getElementById('tweet-list');
        let generatedKoreanSummary = '';

        const baseHtmlTemplate = `
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="page-title">{{COIN_NAME}} ({{COIN_SYMBOL}}) í”„ë¡œì íŠ¸</title>
    <style>
        :root{--bg:#0f172a; --card:#ffffff; --ink:#0f172a; --muted:#64748b; --line:#e2e8f0; --accent:#334155;--brand:#0ea5e9; --brand2:#6366f1;}
        body{font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;margin:0;padding:0;background:linear-gradient(180deg,#f8fafc,#eef2f7);color:#0f172a;line-height:1.65}
        .container{max-width:1000px;margin:24px auto;padding:0 20px}
        header{position:relative;text-align:center;padding:18px 0;border-bottom:1px solid var(--line);margin-bottom:24px}
        .home-button{position:absolute;top:50%;left:0;transform:translateY(-50%);text-decoration:none;background:#eef2f7;color:#334155;padding:10px 14px;border-radius:10px;font-weight:700;border:1px solid #e2e8f0}
        .home-button:hover{background:#e5ebf2}
        header h1{font-size:2.2em;color:#0f172a;margin:0;letter-spacing:-.02em}
        .card{background:var(--card);border-radius:16px;box-shadow:0 8px 30px rgba(2,6,23,.08);padding:26px;margin-bottom:22px;overflow:hidden;border:1px solid #e5e7eb}
        h2{font-size:1.5em;color:#0f172a;margin:0 0 12px 0}
        .card-header{display:flex;justify-content:space-between;align-items:center;border-bottom:1px dashed #e5e7eb;margin:-6px -6px 16px -6px;padding:6px}
        .lang-switcher button{background:#f1f5f9;border:1px solid #e2e8f0;padding:8px 14px;cursor:pointer;border-radius:8px;font-weight:800;margin-left:6px;color:#0f172a}
        .lang-switcher button.active{background:linear-gradient(90deg,#60a5fa,#a78bfa);color:white;border-color:transparent}
        .content-block h3{font-size:1.15em;color:#0f172a;margin-top:22px;border-bottom:1px solid #eef2f7;padding-bottom:8px}
        .content-block ul{padding-left:20px}
        .content-block code{background:#f1f5f9;padding:2px 6px;border-radius:6px;font-family:ui-monospace,Menlo,Consolas,monospace;word-break:break-all}
        .official-links ul{list-style:none;padding:0;margin:0}
        .official-links li{margin-bottom:12px}
        .official-links a{display:inline-flex;align-items:center;text-decoration:none;color:#0369a1;font-weight:800;font-size:1.05em}
        .official-links a:hover{text-decoration:underline}
        .official-links a svg{width:19px;height:19px;margin-left:8px;fill:#0369a1}
        .chart-container{position:relative;width:100%;height:560px;border:1px solid #e5e7eb;border-radius:14px;overflow:hidden}
        #geckoterminal-embed{width:100%;height:100%;border:none}
        .disclaimer{font-size:.95em;color:#475569;background:#f1f5f9;padding:14px;border-left:4px solid #94a3b8;border-radius:8px}
        footer{text-align:center;padding:18px 0;margin-top:26px;font-size:.95em;color:#64748b}
        @media(max-width:768px){header h1{font-size:1.75em}.chart-container{height:420px}.container{padding:0 14px}.card-header{flex-direction:column;align-items:flex-start}.lang-switcher{width:100%;text-align:right;margin-top:10px}}
    </style>
</head>
<body>
    <div class="container">
        <header>
            <a href="../index.html" class="home-button"><span class="lang-ko">â† í™ˆìœ¼ë¡œ</span><span class="lang-en" style="display:none;">â† Back to Home</span></a>
            <h1 id="main-title"><span class="lang-ko">{{COIN_NAME}} ({{COIN_SYMBOL}}) í”„ë¡œì íŠ¸</span><span class="lang-en" style="display:none;">{{COIN_NAME}} ({{COIN_SYMBOL}}) Project</span></h1>
        </header>
        <main>
            <section class="card">
                <div class="card-header">
                    <h2 id="intro-title"><span class="lang-ko">í”„ë¡œì íŠ¸ ì†Œê°œ</span><span class="lang-en" style="display:none;">Project Overview</span></h2>
                    <div class="lang-switcher"><button id="btn-ko" class="active">í•œêµ­ì–´</button><button id="btn-en">English</button></div>
                </div>
                <div class="content-block lang-ko">{{SUMMARY_KO}}</div>
                <div class="content-block lang-en" style="display:none;">{{SUMMARY_EN}}</div>
            </section>
            <section class="card">
                <div class="card-header"><h2 id="chart-title"><span class="lang-ko">ì‹¤ì‹œê°„ ê°€ê²©/ì‹œì´ ì°¨íŠ¸</span><span class="lang-en" style="display:none;">Real-time Price/MC Chart</span></h2></div>
                <div class="chart-container"><iframe height="100%" width="100%" id="geckoterminal-embed" title="GeckoTerminal Embed" src="{{CHART_EMBED_URL}}" frameborder="0" allow="clipboard-write" allowfullscreen></iframe></div>
            </section>
            <section class="card official-links">
                <div class="card-header"><h2 id="links-title"><span class="lang-ko">ê³µì‹ ë§í¬ ë° ì»¤ë®¤ë‹ˆí‹°</span><span class="lang-en" style="display:none;">Official Links & Community</span></h2></div>
                <ul>{{OFFICIAL_LINKS}}</ul>
            </section>
            <section class="card">
                <div class="card-header"><h2 id="disclaimer-title"><span class="lang-ko">íˆ¬ì ìœ ì˜ì‚¬í•­</span><span class="lang-en" style="display:none;">Investment Disclaimer</span></h2></div>
                <p class="disclaimer"><span class="lang-ko">ì•”í˜¸í™”í íˆ¬ìëŠ” ë†’ì€ ë³€ë™ì„±ìœ¼ë¡œ ì¸í•´ ì›ê¸ˆ ì†ì‹¤ì˜ ìœ„í—˜ì´ ë§¤ìš° í½ë‹ˆë‹¤. ë³¸ í˜ì´ì§€ì˜ ì •ë³´ëŠ” íˆ¬ì ê¶Œìœ ê°€ ì•„ë‹™ë‹ˆë‹¤. ëª¨ë“  íˆ¬ì ê²°ì •ê³¼ ì±…ì„ì€ íˆ¬ìì ë³¸ì¸ì—ê²Œ ìˆìŠµë‹ˆë‹¤.</span><span class="lang-en" style="display:none;">Cryptocurrency investment involves a very high risk of principal loss due to high volatility. The information on this page is not an investment recommendation. All investment decisions and responsibilities lie with the investor.</span></p>
            </section>
        </main>
        <footer><p>All information is for educational purposes only.</p></footer>
    </div>
    <script>
        const btnKo = document.getElementById('btn-ko'), btnEn = document.getElementById('btn-en'), contentsKo = document.querySelectorAll('.lang-ko'), contentsEn = document.querySelectorAll('.lang-en');
        function setLanguage(lang){if(lang==='ko'){contentsKo.forEach(el=>el.style.display='block');contentsEn.forEach(el=>el.style.display='none');btnKo.classList.add('active');btnEn.classList.remove('active');}else{contentsKo.forEach(el=>el.style.display='none');contentsEn.forEach(el=>el.style.display='block');btnEn.classList.add('active');btnKo.classList.remove('active');}}
        btnKo.addEventListener('click',()=>setLanguage('ko'));btnEn.addEventListener('click',()=>setLanguage('en'));document.addEventListener('DOMContentLoaded',()=>setLanguage('ko'));
    <\/script>
</body>
</html>`;
        
        extractInfoBtn.addEventListener('click', async () => {
            const researchData = researchDataInput.value.trim();
            if (!researchData) {
                errorMessage.textContent = 'ë¨¼ì € ë¦¬ì„œì¹˜ ìë£Œë¥¼ ë¶™ì—¬ë„£ì–´ ì£¼ì„¸ìš”.';
                errorMessage.style.display = 'block';
                return;
            }

            errorMessage.style.display = 'none';
            extractInfoBtn.disabled = true;
            extractLoadingIndicator.classList.remove('hidden');

            try {
                const extractPrompt = `ë‹¤ìŒ í…ìŠ¤íŠ¸ì—ì„œ ì½”ì¸ ì´ë¦„, ì½”ì¸ ì‹¬ë³¼, ê³µì‹ ë§í¬, ì°¨íŠ¸ ì„ë² ë“œ URLì„ ì¶”ì¶œí•´ì¤˜.\n- ë§í¬ëŠ” "https://url (ì´ë¦„)" í˜•ì‹ìœ¼ë¡œ í•œ ì¤„ì— í•˜ë‚˜ì”© ì •ë¦¬í•´ì¤˜.\n- ì°¨íŠ¸ ì„ë² ë“œ URLì€ \`<iframe ... src="URL">\`ê³¼ ê°™ì€ HTML ì½”ë“œì—ì„œ \`src\` ì†ì„±ì˜ URL ê°’ë§Œ ì¶”ì¶œí•´ì¤˜. ë§Œì•½ ì—†ë‹¤ë©´ ë¹ˆ ë¬¸ìì—´ë¡œ ë‚¨ê²¨ë‘¬.\n\n--- í…ìŠ¤íŠ¸ ---\n${researchData}\n--- í…ìŠ¤íŠ¸ ë ---`;
                const extractSchema = {
                    type: "OBJECT",
                    properties: {
                        coinName: { type: "STRING" },
                        coinSymbol: { type: "STRING" },
                        officialLinks: { type: "STRING" },
                        chartEmbedUrl: { type: "STRING" }
                    },
                    required: ["coinName", "coinSymbol", "officialLinks", "chartEmbedUrl"]
                };
                const result = await callGeminiAPI(extractPrompt, extractSchema);
                coinNameInput.value = result.coinName || '';
                coinSymbolInput.value = result.coinSymbol || '';
                officialLinksInput.value = result.officialLinks || '';
                chartEmbedInput.value = result.chartEmbedUrl || '';
            } catch (error) {
                errorMessage.textContent = 'ì •ë³´ ì¶”ì¶œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.';
                errorMessage.style.display = 'block';
            } finally {
                extractInfoBtn.disabled = false;
                extractLoadingIndicator.classList.add('hidden');
            }
        });

        generateBtn.addEventListener('click', async () => {
            let chartEmbedValue = chartEmbedInput.value.trim();
            const iframeSrcMatch = chartEmbedValue.match(/src="([^"]+)"/);
            if (iframeSrcMatch && iframeSrcMatch[1]) {
                chartEmbedValue = iframeSrcMatch[1];
                chartEmbedInput.value = chartEmbedValue;
            }

            const researchData = researchDataInput.value.trim();
            const coinName = coinNameInput.value.trim();
            const coinSymbol = coinSymbolInput.value.trim().toUpperCase();
            const officialLinks = officialLinksInput.value.trim();

            if (!coinName || !coinSymbol || !researchData || !officialLinks || !chartEmbedValue) {
                errorMessage.textContent = 'ëª¨ë“  í•„ë“œë¥¼ ì±„ì›Œì£¼ì„¸ìš”.';
                errorMessage.style.display = 'block';
                return;
            }

            errorMessage.style.display = 'none';
            generateBtn.disabled = true;
            loadingIndicator.classList.remove('hidden');
            outputContainer.style.display = 'none';
            tweetGeneratorContainer.style.display = 'none';
            tweetResultsContainer.style.display = 'none';
            tweetList.innerHTML = '';

            try {
                const summaryPrompt = `ë‹¹ì‹ ì€ ì „ë¬¸ ì•”í˜¸í™”í ë¶„ì„ê°€ì´ì ì¹´í”¼ë¼ì´í„°ì…ë‹ˆë‹¤. ì•„ë˜ ì œê³µëœ ë¦¬ì„œì¹˜ ìë£Œë¥¼ ë°”íƒ•ìœ¼ë¡œ í”„ë¡œì íŠ¸ë¥¼ ìš”ì•½í•˜ê³ , ê·¸ ë‚´ìš©ì„ HTML í˜•ì‹ìœ¼ë¡œ ì •ë¦¬í•´ì£¼ì„¸ìš”. ê° ì„¹ì…˜ë³„ë¡œ 7ë¬¸ì¥ ì´í•˜ë¡œ í•µì‹¬ë§Œ ìš”ì•½í•´ì•¼ í•©ë‹ˆë‹¤. ì‘ì„±ëœ ë‚´ìš©ì€ AIê°€ ì“´ ê²ƒì²˜ëŸ¼ ëŠê»´ì§€ì§€ ì•Šë„ë¡, ì „ë¬¸ì ì´ë©´ì„œë„ ìì—°ìŠ¤ëŸ½ê³  ì„¤ë“ë ¥ ìˆëŠ” ì–´ì¡°ë¡œ ì‘ì„±í•´ì£¼ì„¸ìš”. ë„ˆë¬´ ë”±ë”±í•˜ê±°ë‚˜ ê¸°ê³„ì ì¸ í‘œí˜„ì€ í”¼í•´ì•¼ í•©ë‹ˆë‹¤.\n\nê²°ê³¼ëŠ” ë°˜ë“œì‹œ í•œêµ­ì–´(ko)ì™€ ì˜ì–´(en) ë‘ ê°€ì§€ ë²„ì „ìœ¼ë¡œ ì œê³µí•´ì•¼ í•©ë‹ˆë‹¤.\n\nê° ì–¸ì–´ë³„ ìš”ì•½ì€ ë‹¤ìŒ ì„¹ì…˜ë“¤ì„ í¬í•¨í•´ì•¼ í•©ë‹ˆë‹¤:\n1. **í”„ë¡œì íŠ¸ ê°œìš” ë° ì»¨ì…‰**\n2. **ì£¼ìš” ê¸°ëŠ¥ ë° ê¸°ìˆ **\n3. **í† í° ìƒì„¸ ì •ë³´**: **ì•„ë˜ì˜ HTML <ul> ë¦¬ìŠ¤íŠ¸ í˜•ì‹ì„ ë°˜ë“œì‹œ, ì •í™•í•˜ê²Œ ì§€ì¼œì„œ ìƒì„±í•´ì•¼ í•©ë‹ˆë‹¤. ë‹¤ë¥¸ í˜•ì‹ì€ ì ˆëŒ€ ì‚¬ìš©í•˜ì§€ ë§ˆì„¸ìš”.**\n   <h3>í† í° ìƒì„¸ ì •ë³´</h3>\n   <ul>\n       <li><strong>í† í° ì´ë¦„:</strong> [í† í° ì´ë¦„]</li>\n       <li><strong>ì‹¬ë³¼(Symbol):</strong> [ì‹¬ë³¼]</li>\n       <li><strong>ë„¤íŠ¸ì›Œí¬:</strong> [ë„¤íŠ¸ì›Œí¬]</li>\n       <li><strong>ì»¨íŠ¸ë™íŠ¸ ì£¼ì†Œ (Solana):</strong> <code>[ì†”ë¼ë‚˜ ì£¼ì†Œ]</code></li>\n       <li><strong>ì»¨íŠ¸ë™íŠ¸ ì£¼ì†Œ (EVM):</strong> <code>[EVM ì£¼ì†Œ]</code></li>\n       <li><strong>í† í° í‘œì¤€:</strong> [í† í° í‘œì¤€]</li>\n       <li><strong>ì´ ë°œí–‰ëŸ‰:</strong> [ì´ ë°œí–‰ëŸ‰]</li>\n   </ul>\n   (ìë£Œì— ì—†ëŠ” ì •ë³´ëŠ” í•´ë‹¹ <li> í•­ëª©ì„ ìƒëµí•˜ì„¸ìš”.)\n4. **íŒ€ ë° íŒŒíŠ¸ë„ˆì‹­**\n5. **ë¦¬ìŠ¤í¬ ìš”ì¸**\n\n--- ë¦¬ì„œì¹˜ ìë£Œ ---\n${researchData}\n--- ìë£Œ ë ---`;
                const summarySchema = { type: "OBJECT", properties: { summary_ko: { type: "STRING" }, summary_en: { type: "STRING" } }, required: ["summary_ko", "summary_en"] };

                const aiResult = await callGeminiAPI(summaryPrompt, summarySchema);
                generatedKoreanSummary = aiResult.summary_ko;

                const linkItems = officialLinks.split('\n').map(line => {
                    const match = line.match(/(https?:\/\/[^\s]+)\s*\((.+)\)/);
                    if (match) {
                        const url = match[1];
                        const text = match[2];
                        let svgIcon = '';
                        let titleAttr = '';
                        if (text.toLowerCase().includes('twitter') || url.includes('x.com')) {
                            svgIcon = ' <svg viewBox="0 0 24 24" aria-hidden="true" style="width:1.1em; height:1.1em; display:inline-block; vertical-align:text-bottom; fill:currentColor;"><g><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"></path></g></svg>';
                            titleAttr = ' title="íŠ¸ìœ„í„° ë°”ë¡œê°€ê¸°"';
                        }
                        return `<li><a href="${url}" target="_blank" rel="noopener noreferrer"${titleAttr}>${text}${svgIcon}</a></li>`;
                    }
                    if (line.startsWith('http')) {
                        let name = 'Official Link';
                        try { name = new URL(line).hostname.replace('www.', ''); } catch (e) {}
                        return `<li><a href="${line}" target="_blank" rel="noopener noreferrer">${name}</a></li>`;
                    }
                    return '';
                }).join('\n                        ');

                let finalHtml = baseHtmlTemplate
                    .replace(/{{COIN_NAME}}/g, coinName)
                    .replace(/{{COIN_SYMBOL}}/g, coinSymbol)
                    .replace('{{SUMMARY_KO}}', aiResult.summary_ko)
                    .replace('{{SUMMARY_EN}}', aiResult.summary_en)
                    .replace('{{CHART_EMBED_URL}}', chartEmbedValue)
                    .replace('{{OFFICIAL_LINKS}}', linkItems);

                htmlOutput.value = finalHtml;
                previewIframe.srcdoc = finalHtml;
                outputContainer.style.display = 'block';
                tweetGeneratorContainer.style.display = 'block';
                outputContainer.scrollIntoView({ behavior: 'smooth' });

            } catch (error) {
                errorMessage.textContent = 'í˜ì´ì§€ ìƒì„± ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.';
                errorMessage.style.display = 'block';
            } finally {
                generateBtn.disabled = false;
                loadingIndicator.classList.add('hidden');
            }
        });

        generateTweetsBtn.addEventListener('click', async () => {
            if (!generatedKoreanSummary) {
                errorMessage.textContent = 'ë¨¼ì € í˜ì´ì§€ë¥¼ ìƒì„±í•´ì£¼ì„¸ìš”.';
                errorMessage.style.display = 'block';
                return;
            }
            const coinName = coinNameInput.value.trim();
            const coinSymbol = coinSymbolInput.value.trim().toUpperCase();

            generateTweetsBtn.disabled = true;
            tweetLoadingIndicator.classList.remove('hidden');
            tweetResultsContainer.style.display = 'none';
            tweetList.innerHTML = '';

            try {
                const tweetPrompt = `ë‹¹ì‹ ì€ ì°½ì˜ì ì¸ ì•”í˜¸í™”í ë§ˆì¼€íŒ… ì „ë¬¸ê°€ì…ë‹ˆë‹¤. ${coinName} (${coinSymbol}) í”„ë¡œì íŠ¸ì˜ ë‹¤ìŒ í•œêµ­ì–´ ìš”ì•½ë³¸ì„ ë°”íƒ•ìœ¼ë¡œ, í”„ë¡œì íŠ¸ë¥¼ í™ë³´í•  ìˆ˜ ìˆëŠ” ë§¤ë ¥ì ì´ê³  ìœ ìµí•œ íŠ¸ìœ— 3ê°œë¥¼ í•œêµ­ì–´ë¡œ ì‘ì„±í•´ì£¼ì„¸ìš”. AIê°€ ì“´ ê²ƒì²˜ëŸ¼ ëŠê»´ì§€ì§€ ì•Šë„ë¡, ì‹¤ì œ ì»¤ë®¤ë‹ˆí‹° ë§¤ë‹ˆì €ê°€ ì†Œí†µí•˜ëŠ” ê²ƒì²˜ëŸ¼ ìì—°ìŠ¤ëŸ½ê³  ìƒìƒí•œ ì–´íˆ¬ë¥¼ ì‚¬ìš©í•´ì£¼ì„¸ìš”.\n\níŠ¸ìœ—ì€ ê°„ê²°í•´ì•¼ í•˜ë©°, ê´€ë ¨ì„± ë†’ì€ í•´ì‹œíƒœê·¸(#${coinSymbol}, #ë¸”ë¡ì²´ì¸, #AI, #í¬ë¦½í†  ë“±)ë¥¼ í¬í•¨í•´ì•¼ í•©ë‹ˆë‹¤. ì‚¬ìš©ìë“¤ì´ í”„ë¡œì íŠ¸ì— ëŒ€í•´ ë” ì•Œì•„ë³´ê³  ì‹¶ê²Œ ë§Œë“¤ì–´ì£¼ì„¸ìš”.\n\n--- í”„ë¡œì íŠ¸ ìš”ì•½ (í•œêµ­ì–´) ---\n${generatedKoreanSummary}\n--- ìš”ì•½ ë ---`;
                const tweetSchema = { type: "OBJECT", properties: { tweets: { type: "ARRAY", items: { type: "STRING" } } }, required: ["tweets"] };
                const result = await callGeminiAPI(tweetPrompt, tweetSchema);

                if (result.tweets && result.tweets.length > 0) {
                    result.tweets.forEach(tweetText => {
                        const tweetCard = document.createElement('div');
                        tweetCard.className = 'tweet-card';
                        tweetCard.innerText = tweetText;
                        tweetList.appendChild(tweetCard);
                    });
                    tweetResultsContainer.style.display = 'block';
                    tweetResultsContainer.scrollIntoView({ behavior: 'smooth' });
                }
            } catch (error) {
                console.error('Error generating tweets:', error);
                errorMessage.textContent = 'íŠ¸ìœ— ìƒì„± ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.';
                errorMessage.style.display = 'block';
            } finally {
                generateTweetsBtn.disabled = false;
                tweetLoadingIndicator.classList.add('hidden');
            }
        });
        
        copyBtn.addEventListener('click', () => {
            htmlOutput.select();
            try {
                // Using execCommand for broader compatibility in sandboxed environments
                document.execCommand('copy');
                copyMessage.classList.remove('hidden');
                setTimeout(() => { copyMessage.classList.add('hidden'); }, 2000);
            } catch (err) {
                console.error('Failed to copy text: ', err);
            }
        });

        previewBtn.addEventListener('click', () => {
            previewIframe.srcdoc = htmlOutput.value;
        });

        // --- FEATURE 2: SPELL CHECKER ---
        const spellCheckInput = document.getElementById('spell-check-input');
        const spellCheckOutput = document.getElementById('spell-check-output');
        const spellCheckBtn = document.getElementById('spell-check-btn');
        const spellCheckLoading = document.getElementById('spell-check-loading');
        const spellCheckCopyBtn = document.getElementById('spell-check-copy-btn');
        const spellCheckCopyMessage = document.getElementById('spell-check-copy-message');

        spellCheckBtn.addEventListener('click', async () => {
            const text = spellCheckInput.value.trim();
            if (!text) {
                errorMessage.textContent = 'ë¨¼ì € ê²€ì‚¬í•  í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.';
                errorMessage.style.display = 'block';
                return;
            }
            errorMessage.style.display = 'none';
            spellCheckBtn.disabled = true;
            spellCheckLoading.classList.remove('hidden');
            spellCheckOutput.textContent = 'AIê°€ ë¶„ì„ ì¤‘...';

            try {
                const prompt = `ë‹¹ì‹ ì€ ë‹¤êµ­ì–´ êµì • ì „ë¬¸ê°€ì…ë‹ˆë‹¤. ë‹¤ìŒ í…ìŠ¤íŠ¸ì˜ ì–¸ì–´ë¥¼ ê°ì§€í•˜ì—¬, ê·¸ ì–¸ì–´ì˜ ê·œì¹™ì— ë§ê²Œ êµì •í•´ì£¼ì„¸ìš”. ë‹¨ìˆœíˆ ê¸°ê³„ì ìœ¼ë¡œ ì˜¤ë¥˜ë¥¼ ìˆ˜ì •í•˜ëŠ” ê²ƒì„ ë„˜ì–´, ë¬¸ì¥ì˜ íë¦„ì´ ë” ìì—°ìŠ¤ëŸ¬ì›Œì§€ë„ë¡ ë‹¤ë“¬ì–´ì£¼ì„¸ìš”. ë‹¨, ì›ë¬¸ì˜ ì˜ë¯¸ëŠ” ì ˆëŒ€ ë³€ê²½í•´ì„œëŠ” ì•ˆ ë©ë‹ˆë‹¤.

**ë§¤ìš° ì¤‘ìš”**: ì–´ë– í•œ ì„œë¬¸ì´ë‚˜ ì„¤ëª…ë„ ì¶”ê°€í•˜ì§€ ë§ê³ , ì˜¤ì§ êµì •ëœ ìµœì¢… í…ìŠ¤íŠ¸ë§Œ ì‘ë‹µìœ¼ë¡œ ì œê³µí•´ì•¼ í•©ë‹ˆë‹¤.

- **í•œêµ­ì–´**: ë§ì¶¤ë²•, ë„ì–´ì“°ê¸°, ë¬¸ë²• ì˜¤ë¥˜ë¥¼ ìˆ˜ì •í•©ë‹ˆë‹¤.
- **ì˜ì–´**: ì² ì, ë¬¸ë²•, êµ¬ë‘ì  ì˜¤ë¥˜ë¥¼ ìˆ˜ì •í•©ë‹ˆë‹¤.
- **ê·œì¹™**: ë²ˆì—­í•˜ì§€ ë§ê³ , ì˜¤ì§ í•´ë‹¹ ì–¸ì–´ ë‚´ì—ì„œ êµì •ë§Œ ìˆ˜í–‰í•´ì•¼ í•©ë‹ˆë‹¤. AIê°€ ì“´ ê²ƒì²˜ëŸ¼ ë”±ë”±í•œ ë¬¸ì¥ì´ ì•„ë‹Œ, ì‚¬ëŒì´ ì“´ ê²ƒì²˜ëŸ¼ ìì—°ìŠ¤ëŸ¬ìš´ ê²°ê³¼ë¬¼ì„ ì œê³µí•´ì£¼ì„¸ìš”.
- **ê¸°íƒ€ ì–¸ì–´**: "í•œêµ­ì–´ì™€ ì˜ì–´ ë§ì¶¤ë²• ê²€ì‚¬ë§Œ ì§€ì›í•©ë‹ˆë‹¤."ë¼ê³  ì‘ë‹µí•´ì£¼ì„¸ìš”.

--- ì›ë³¸ í…ìŠ¤íŠ¸ ---
${text}
--- í…ìŠ¤íŠ¸ ë ---`;
                const result = await callGeminiAPI(prompt, null); // No schema, expect plain text
                spellCheckOutput.textContent = result;
            } catch (error) {
                console.error('Error during spell check:', error);
                errorMessage.textContent = 'ë§ì¶¤ë²• ê²€ì‚¬ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.';
                errorMessage.style.display = 'block';
                spellCheckOutput.textContent = 'ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.';
            } finally {
                spellCheckBtn.disabled = false;
                spellCheckLoading.classList.add('hidden');
            }
        });
        
        function copyTextFromElement(element, messageElement) {
            const textToCopy = element.innerText;
            if (textToCopy && textToCopy.trim() !== 'ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.' && textToCopy.trim() !== 'AIê°€ ë¶„ì„ ì¤‘...') {
                const tempTextArea = document.createElement('textarea');
                tempTextArea.value = textToCopy;
                document.body.appendChild(tempTextArea);
                tempTextArea.select();
                try {
                    document.execCommand('copy');
                    messageElement.classList.remove('hidden');
                    setTimeout(() => { messageElement.classList.add('hidden'); }, 2000);
                } catch (err) {
                    console.error('Failed to copy text: ', err);
                }
                document.body.removeChild(tempTextArea);
            }
        }

        spellCheckCopyBtn.addEventListener('click', () => {
            copyTextFromElement(spellCheckOutput, spellCheckCopyMessage);
        });


        // --- FEATURE 3: TELEGRAM POST CONVERTER ---
        const telegramInput = document.getElementById('telegram-input');
        const telegramOutput = document.getElementById('telegram-output');
        const telegramConvertBtn = document.getElementById('telegram-convert-btn');
        const telegramLoading = document.getElementById('telegram-loading');
        const toneSelector = document.getElementById('tone-selector');
        const toneButtons = toneSelector.querySelectorAll('#tone-selector .nav-btn');
        const telegramCopyBtn = document.getElementById('telegram-copy-btn');
        const telegramCopyMessage = document.getElementById('telegram-copy-message');

        toneButtons.forEach(button => {
            button.addEventListener('click', () => {
                toneButtons.forEach(btn => btn.classList.remove('active'));
                button.classList.add('active');
            });
        });

        telegramCopyBtn.addEventListener('click', () => {
            copyTextFromElement(telegramOutput, telegramCopyMessage);
        });

        telegramConvertBtn.addEventListener('click', async () => {
            const text = telegramInput.value.trim();
            if (!text) {
                errorMessage.textContent = 'ë¨¼ì € ë³€í™˜í•  í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.';
                errorMessage.style.display = 'block';
                return;
            }
            errorMessage.style.display = 'none';
            telegramConvertBtn.disabled = true;
            telegramLoading.classList.remove('hidden');
            telegramOutput.textContent = 'AIê°€ ë¶„ì„ ì¤‘...';

            const selectedTone = toneSelector.querySelector('.active').dataset.tone;
            let prompt = '';

            const basePrompt = `ë‹¹ì‹ ì€ í…”ë ˆê·¸ë¨ ì±„ë„ì„ ìš´ì˜í•˜ëŠ” ì „ë¬¸ ì½˜í…ì¸  ë§ˆì¼€í„°ì…ë‹ˆë‹¤. ë‹¤ìŒ ì›ë³¸ í…ìŠ¤íŠ¸ë¥¼ í…”ë ˆê·¸ë¨ ê²Œì‹œê¸€ í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•´ì£¼ì„¸ìš”. AIê°€ ì‘ì„±í•œ ëŠë‚Œì´ ë‚˜ì§€ ì•Šë„ë¡, ì‹¤ì œ ì»¤ë®¤ë‹ˆí‹° ë§¤ë‹ˆì €ê°€ ì†Œí†µí•˜ëŠ” ê²ƒì²˜ëŸ¼ ìì—°ìŠ¤ëŸ½ê³  ìƒìƒí•œ ì–´íˆ¬ë¥¼ ì‚¬ìš©í•´ì£¼ì„¸ìš”.`;
            const styleGuide = `\n\n--- ìŠ¤íƒ€ì¼ ê°€ì´ë“œ ---\n* **ì„œì‹**: êµµì€ ê¸€ì”¨ ë§ˆí¬ë‹¤ìš´(\`**text**\`)ì„ ì ˆëŒ€ ì‚¬ìš©í•˜ì§€ ë§ˆì„¸ìš”. ëŒ€ì‹  ì´ëª¨ì§€, ì¤„ ë°”ê¿ˆ, ì ì ˆí•œ ê³µë°±(ìŠ¤í˜ì´ìŠ¤)ì„ ì‚¬ìš©í•´ ë‚´ìš©ì„ êµ¬ì¡°í™”í•´ì•¼ í•©ë‹ˆë‹¤.\n* **êµ¬ì¡°**: ì œëª©ê³¼ ì£¼ìš” ì„¹ì…˜ì€ ì´ëª¨ì§€ë¡œ ì‹œì‘í•˜ê³ (ì˜ˆ: âœ…, ğŸ“‚, ğŸª™, ğŸ“Œ), ëª©ë¡ì„ í‘œí˜„í•  ë•ŒëŠ” ê° í•­ëª©ë§ˆë‹¤ ì´ëª¨ì§€ë¥¼ ë°˜ë³µí•˜ê¸°ë³´ë‹¤, í•˜ìœ„ í•­ëª©ì— '-', 'â€¢' ë“±ì„ ì‚¬ìš©í•˜ê±°ë‚˜ ë“¤ì—¬ì“°ê¸°ë¡œë§Œ í‘œí˜„í•˜ì—¬ ë” ê¹”ë”í•˜ê²Œ êµ¬ì„±í•´ì£¼ì„¸ìš”. ë¬¸ì¥ ì•ì—ëŠ” ê°€ê¸‰ì  ê¸°í˜¸ë¥¼ ì“°ì§€ ë§ê³  ê³µë°±ìœ¼ë¡œ ì²˜ë¦¬í•´ì£¼ì„¸ìš”. ê°€ë…ì„±ì„ ìœ„í•´ ë¬¸ë‹¨ê³¼ ë¬¸ë‹¨ ì‚¬ì´ì—ëŠ” ì¶©ë¶„í•œ ì¤„ ë°”ê¿ˆì„ ë„£ì–´ì£¼ì„¸ìš”. ê´€ë ¨ í•´ì‹œíƒœê·¸ëŠ” ë³¸ë¬¸ ëì— ì¶”ê°€í•©ë‹ˆë‹¤.`;
            const examples = `\n\n--- ì˜ˆì‹œ ---\nğŸ™‚ MORPH í•œêµ­ ì»¤ë®¤ë‹ˆí‹° ì´ë²¤íŠ¸, MORPH ë¥¼ ì°¾ì•„ë¼\n\nâœ… Morph ì—ì„œ í•œêµ­ ì»¤ë®¤ë‹ˆí‹°ë¥¼ ëŒ€ìƒìœ¼ë¡œ, Morph ì°¾ê¸° ì´ë²¤íŠ¸ë¥¼ ì§„í–‰í•©ë‹ˆë‹¤\n\nğŸ“‚ ì´ë²¤íŠ¸ ì°¸ì—¬ ë°©ë²•\n\n  ì´ë²¤íŠ¸ê¸°ê°„ : ~8/25ì¼ê¹Œì§€\n\n  ì´ˆë¡ìƒ‰ì„ ì°¾ì•„ë¼ : Morphë¥¼ ìƒì§•í•˜ëŠ” ì´ˆë¡ìƒ‰ ë¬¼ê±´ì„ ì°¾ì•„ ì‚¬ì§„ ì°ê¸°\n\n#MORPH`;
            const textBlock = `\n\n--- ë³€í™˜í•  ì›ë³¸ í…ìŠ¤íŠ¸ ---\n${text}\n--- í…ìŠ¤íŠ¸ ë ---`;

            if (selectedTone === 'formal') {
                prompt = basePrompt + 
                `\n\n--- ì–´ì¡° ê°€ì´ë“œ (ì „ë¬¸ê°€ ëª¨ë“œ) ---\n* **ì–´ì¡°**: ë§¤ìš° ì „ë¬¸ì ì´ê³  ê°ê´€ì ì¸ í†¤ì„ ìœ ì§€í•©ë‹ˆë‹¤. ê³µì§€ì‚¬í•­ì²˜ëŸ¼ ê°„ê²°í•˜ê³  ëª…í™•í•˜ê²Œ ì •ë³´ë¥¼ ì „ë‹¬í•˜ì„¸ìš”.\n* **ë¬¸ì¥ ëë§ºìŒ**: '~í•©ë‹ˆë‹¤', '~ë  ì˜ˆì •ì…ë‹ˆë‹¤'ì™€ ê°™ì´ ê²©ì‹ìˆëŠ” í‘œí˜„ì„ ì¼ê´€ë˜ê²Œ ì‚¬ìš©í•©ë‹ˆë‹¤. ê°ì •ì ì¸ í‘œí˜„ì´ë‚˜ ë¶ˆí•„ìš”í•œ ìˆ˜ì‹ì–´, '~ìš”'ì™€ ê°™ì€ êµ¬ì–´ì²´ëŠ” í”¼í•©ë‹ˆë‹¤.` +
                styleGuide + examples + textBlock;
            } else if (selectedTone === 'concise') {
                prompt = basePrompt +
                `\n\n--- ì–´ì¡° ê°€ì´ë“œ (ê°„ê²°í•œ ëª¨ë“œ) ---\n* **ì–´ì¡°**: í•µì‹¬ ì •ë³´ë¥¼ ë¹ ë¥´ê²Œ ì „ë‹¬í•˜ëŠ” ë° ì§‘ì¤‘í•©ë‹ˆë‹¤. ì»¤ë®¤ë‹ˆí‹°ì—ì„œ í”íˆ ì‚¬ìš©í•˜ëŠ” ê°„ê²°í•˜ê³  ì§ì„¤ì ì¸ ë§íˆ¬ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.\n* **ë¬¸ì¥ ëë§ºìŒ**: ë¬¸ë§¥ì— ë§ê²Œ ì„œìˆ ì–´ë¥¼ **ìƒëµ**í•˜ê³  **ëª…ì‚¬í˜•ìœ¼ë¡œ ë¬¸ì¥ì„ ì¢…ê²°**í•˜ì—¬ ê°„ê²°í•¨ì„ ê·¹ëŒ€í™”í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, "ë¡œì—´í‹° í¬ì¸íŠ¸ ì œë„ì„"ì€ "ë¡œì—´í‹° í¬ì¸íŠ¸ ì œë„"ë¡œ, "í•µì‹¬ ì§€í‘œë¡œ ì‘ìš©í•¨"ì€ "í•µì‹¬ ì§€í‘œë¡œ ì‘ìš©"ìœ¼ë¡œ ìˆ˜ì •í•´ì•¼ í•©ë‹ˆë‹¤. '~í•¨', '~ì„'ê³¼ ê°™ì€ í‘œí˜„ì€ ì ˆëŒ€ ì‚¬ìš©í•˜ì§€ ë§ˆì„¸ìš”. ë¬¸ì¥ì´ ë„ˆë¬´ ì§§ê²Œ ëŠì–´ì§€ì§€ ì•Šë„ë¡, 'ë˜í•œ', 'ê·¸ë¦¬ê³ ' ê°™ì€ ì ‘ì†ì‚¬ë¥¼ ì ì ˆíˆ ì‚¬ìš©í•˜ì—¬ ìì—°ìŠ¤ëŸ½ê²Œ ì—°ê²°í•´ì£¼ì„¸ìš”.` +
                styleGuide + examples + textBlock;
            } else { // friendly (default)
                prompt = basePrompt +
                `\n\n--- ì–´ì¡° ê°€ì´ë“œ (ì¹œê·¼í•˜ê²Œ ëª¨ë“œ) ---\n* **ëŒ€ìƒ ë…ì**: ì•”í˜¸í™”íì— ëŒ€í•´ ì´ì œ ë§‰ ì•Œì•„ê°€ëŠ” ì´ˆì¤‘ê¸‰ì (ì „ë¬¸ì„± 3~4/10 ìˆ˜ì¤€)ë¥¼ ëŒ€ìƒìœ¼ë¡œ í•©ë‹ˆë‹¤. ì–´ë ¤ìš´ ì „ë¬¸ ìš©ì–´ëŠ” í”¼í•˜ê³ , ë¹„ìœ ë‚˜ ì‰¬ìš´ ì˜ˆì‹œë¥¼ ë“¤ì–´ ì„¤ëª…í•´ì£¼ì„¸ìš”.\n* **ì–´ì¡°**: ì¹œê·¼í•˜ê³  ìœ ìµí•œ ì»¤ë®¤ë‹ˆí‹° ë§¤ë‹ˆì €ì˜ í†¤ì„ ìœ ì§€í•©ë‹ˆë‹¤. "ì•ˆë…•í•˜ì„¸ìš”, ì»¤ë®¤ë‹ˆí‹° ì—¬ëŸ¬ë¶„!"ê³¼ ê°™ì€ ì–´ìƒ‰í•œ ì¸ì‚¬ë§ë¡œ ì‹œì‘í•˜ì§€ ë§ê³ , ë°”ë¡œ ë³¸ë¡ ìœ¼ë¡œ ë“¤ì–´ê°€ê±°ë‚˜ ìì—°ìŠ¤ëŸ¬ìš´ ì§ˆë¬¸ìœ¼ë¡œ ì‹œì‘í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.\n* **ë¬¸ì¥ ëë§ºìŒ**: ë¬¸ì¥ì˜ ëì„ '~ì…ë‹ˆë‹¤'ë‚˜ '~ìš”'ë¡œë§Œ ë°˜ë³µí•˜ì§€ ë§ê³ , '**~í•˜ì£ **', '**~í•˜ëŠ” ì  ì°¸ê³ í•´ì£¼ì„¸ìš”**', '**~ì•Œì•„ë³¼ê¹Œìš”?**' ë“± ë‹¤ì–‘í•œ ì–´ë¯¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‹¤ì œ ì‚¬ëŒì´ ì„¤ëª…í•˜ëŠ” ë“¯í•œ ëŠë‚Œì„ ì¤ë‹ˆë‹¤. ë‹¨, '**~í–ˆë‹µë‹ˆë‹¤**'ì™€ ê°™ì´ ë„ˆë¬´ ì–´ë¦° ì•„ì´ì—ê²Œ ë§í•˜ëŠ” ë“¯í•œ ì–´íˆ¬ëŠ” ì ˆëŒ€ ì‚¬ìš©í•˜ì§€ ë§ˆì„¸ìš”.` +
                styleGuide + examples + textBlock;
            }

            try {
                const result = await callGeminiAPI(prompt, null); // No schema, expect plain text
                telegramOutput.textContent = result;
            } catch (error) {
                console.error('Error during Telegram post conversion:', error);
                errorMessage.textContent = 'í…”ë ˆê·¸ë¨ ê²Œì‹œê¸€ ë³€í™˜ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.';
                errorMessage.style.display = 'block';
                telegramOutput.textContent = 'ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.';
            } finally {
                telegramConvertBtn.disabled = false;
                telegramLoading.classList.add('hidden');
            }
        });
    });
    </script>
</body>
</html>

